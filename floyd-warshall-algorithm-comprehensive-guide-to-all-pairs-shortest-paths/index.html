<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
<meta name="google-site-verification" content="wSUWWkv_QhNXB_N6r3rOSU2YlmmWxYBk6UWVlgu1q94" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/logo.gif">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/logo.gif">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="google295e26d511c4c6ad.html">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.enkr1.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":true,"sidebar":{"position":"left","width":300,"display":"post","padding":0,"offset":0,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"buttons","active":"disqus","storage":true,"lazyload":true,"nav":null,"activeClass":"disqus"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":true,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"slideDownBigIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Explore the Floyd-Warshall algorithm for finding shortest paths between all pairs of vertices in a weighted graph. Learn about its applications, benefits, and limitations in handling both positive and">
<meta property="og:type" content="article">
<meta property="og:title" content="Floyd-Warshall Algorithm: Comprehensive Guide to All-Pairs Shortest Paths">
<meta property="og:url" content="https://blog.enkr1.com/floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/index.html">
<meta property="og:site_name" content="ENKR&#39;s Blog | Jing Hui PANG">
<meta property="og:description" content="Explore the Floyd-Warshall algorithm for finding shortest paths between all pairs of vertices in a weighted graph. Learn about its applications, benefits, and limitations in handling both positive and">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-05-18T22:17:35.000Z">
<meta property="article:modified_time" content="2024-09-30T16:42:12.304Z">
<meta property="article:author" content="Jing Hui PANG | 彭競辉 | ENKR">
<meta property="article:tag" content="algorithm">
<meta property="article:tag" content="dynamic programming">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.enkr1.com/floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/">




<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>



<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4N4L18VB12"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4N4L18VB12');
</script>



<!-- Firebase -->
<!-- enkr1.github.io -->
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const _0x5ea0f9=_0x103b;function _0x103b(_0x53ae50,_0x59847d){const _0x2843ac=_0x1ad7();_0x103b=function(_0x55d786,_0x3cee64){_0x55d786=_0x55d786-(-0xcfb+0x1f9f+-0x1124);let _0x59a379=_0x2843ac[_0x55d786];return _0x59a379;};return _0x103b(_0x53ae50,_0x59847d);}function _0x1ad7(){const _0x1f01af=['G-TJPENBTD','AIzaSyBxex','17063YPgNxh','VzGzOqDUGF','1:71411607','216YlyPzv','hexo-blog-','7141160759','4c5895d438','16110beXadU','qAetlFUSo','548402cjqBQm','9ccea','zHVT_-oYxk','enkr1.com','10aKAiit','725816aYbUzX','38661mJjSzZ','fb244020c3','pot.com','5930586lHPClx','593:web:d0','52OsOUFf','9ccea.apps','1053695BAfudF'];_0x1ad7=function(){return _0x1f01af;};return _0x1ad7();}(function(_0x5f4332,_0x76084c){const _0x2e4582=_0x103b;const _0x2c9a86=_0x5f4332();while(!![]){try{const _0x40bc56=parseInt(_0x2e4582(0x184))/(-0x92c+-0x2f*-0x2+-0xcd*-0xb)+-parseInt(_0x2e4582(0x18d))/(-0xf68+-0x11*-0x1bb+-0xe01)+parseInt(_0x2e4582(0x18b))/(0x546+-0x4*-0x19b+-0xbaf)*(parseInt(_0x2e4582(0x198))/(-0x91*0x16+-0x215b*-0x1+-0x1*0x14e1))+-parseInt(_0x2e4582(0x181))/(0x181e+-0x295*0xd+0x978)+parseInt(_0x2e4582(0x187))/(-0x2*0x10ad+-0x14a9+0x3609)*(-parseInt(_0x2e4582(0x193))/(0x5*0x4e8+-0xc8d+0x5fa*-0x2))+parseInt(_0x2e4582(0x192))/(-0x1*0x621+0x1f*0x95+-0xbe2)+parseInt(_0x2e4582(0x196))/(-0x1494+-0x3*0x7ae+0x2ba7)*(parseInt(_0x2e4582(0x191))/(-0x1*0xec7+-0x5*-0x2cf+0xc6));if(_0x40bc56===_0x76084c){break;}else{_0x2c9a86['push'](_0x2c9a86['shift']());}}catch(_0x4baedd){_0x2c9a86['push'](_0x2c9a86['shift']());}}}(_0x1ad7,-0x1*0x1a731+-0x443d4+-0x1*-0x83fd7));const firebaseConfig={'apiKey':_0x5ea0f9(0x183)+_0x5ea0f9(0x185)+_0x5ea0f9(0x18f)+_0x5ea0f9(0x18c),'authDomain':_0x5ea0f9(0x190),'projectId':_0x5ea0f9(0x188)+_0x5ea0f9(0x18e),'storageBucket':_0x5ea0f9(0x188)+_0x5ea0f9(0x180)+_0x5ea0f9(0x195),'messagingSenderId':_0x5ea0f9(0x189)+'3','appId':_0x5ea0f9(0x186)+_0x5ea0f9(0x197)+_0x5ea0f9(0x194)+_0x5ea0f9(0x18a),'measurementId':_0x5ea0f9(0x182)+'NS'};

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.css">
  <title>Floyd-Warshall Algorithm: Comprehensive Guide to All-Pairs Shortest Paths | ENKR's Blog | Jing Hui PANG</title>
  
    <script>
      function sendPageView() {
        if (CONFIG.hostname !== location.hostname) return;
        var uid = localStorage.getItem('uid') || (Math.random() + '.' + Math.random());
        localStorage.setItem('uid', uid);
        navigator.sendBeacon('https://www.google-analytics.com/collect', new URLSearchParams({
          v  : 1,
          tid: 'G-4N4L18VB12',
          cid: uid,
          t  : 'pageview',
          dp : encodeURIComponent(location.pathname)
        }));
      }
      document.addEventListener('pjax:complete', sendPageView);
      sendPageView();
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="ENKR's Blog | Jing Hui PANG" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ENKR's Blog | Jing Hui PANG</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Where code meets creativity.</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about-me">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About Me</a>

  </li>
        <li class="menu-item menu-item-connect-with-me">

    <span class="exturl" data-url="aHR0cHM6Ly9jYWwuY29tL2Vua3IxL2NvbGxhYm9yYXRpb25zP2xheW91dD1jb2x1bW5fdmlldw=="><i class="fa fa-calendar fa-fw"></i>Connect with Me</span>

  </li>
        <li class="menu-item menu-item-my-platforms">

    <span class="exturl" data-url="aHR0cHM6Ly9lbmtyMS5naXRodWIuaW8vcGxhdGZvcm1zLw=="><i class="fa fa-link fa-fw"></i>My Platforms</span>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">130</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-list fa-fw"></i>Categories<span class="badge">58</span></a>

  </li>
        <li class="menu-item menu-item-notebooks-(all)">

    <a href="/categories/Notebooks/" rel="section"><i class="fa fa-book fa-fw"></i>Notebooks (All)</a>

  </li>
        <li class="menu-item menu-item-notebooks-(programming)">

    <a href="/categories/Software-Engineering/Programming-Languages/" rel="section"><i class="fa fa-book fa-fw"></i>Notebooks (Programming)</a>

  </li>
        <li class="menu-item menu-item-journals">

    <a href="/categories/About-Me/Journals/" rel="section"><i class="fa fa-book fa-fw"></i>Journals</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-history fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.txt" rel="section"><i class="fa fa-sitemap fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://blog.enkr1.com/floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jing Hui PANG | 彭競辉 | ENKR">
      <meta itemprop="description" content="Words for my future self—a space for insights and creativity. Along the way, I’ll be journaling my journey, diving into programming tips, beatboxing stories and sharing insights on fitness, music, and more to inspire anyone chasing their own path.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ENKR's Blog | Jing Hui PANG">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Floyd-Warshall Algorithm: Comprehensive Guide to All-Pairs Shortest Paths
        </h1>

        <div class="post-meta">

<!--
NOTE: created_at
-->
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: Sunday, 19 May 2024 06:17:35 AM 06:17:35 AM" itemprop="dateCreated datePublished" datetime="2024-05-19T06:17:35+08:00">Sunday, 19 May 2024 06:17:35 AM</time>
            </span>

<!--
NOTE: created_at
-->
<!--
-->
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: Tuesday, 1 October 2024 00:42:12 AM 00:42:12 AM" itemprop="dateModified" datetime="2024-10-01T00:42:12+08:00">Tuesday, 1 October 2024 00:42:12 AM</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-Engineering/" itemprop="url" rel="index"><span itemprop="name">Software Engineering</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Software-Engineering/Data-Structures-Algorithms/" itemprop="url" rel="index"><span itemprop="name">Data Structures & Algorithms</span></a>
                </span>
            </span>

          


<!--
NEW: Added a break after category
-->

  <br>


<!--
NOTE: word count
-->
            <span class="post-meta-item" title="Symbols count in article">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.3k</span>
            </span>

<!--
NOTE: reading time
-->
            <span class="post-meta-item" title="Reading time">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>5 mins.</span>
            </span>


<!--
NOTE: disqus
-->
  
  <span class="post-meta-item disqus-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

<!--
NOTE: views count
-->
            <span class="post-meta-item" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <!--
              NOTE: Hide "Views: "
              <span class="post-meta-item-text">Views: </span>
              -->
              <b><span class="firestore-visitors-count">loading ...</span></b>
            </span>
            <div class="post-description">Explore the Floyd-Warshall algorithm for finding shortest paths between all pairs of vertices in a weighted graph. Learn about its applications, benefits, and limitations in handling both positive and negative edge weights.</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="what-is-floyd-warshall-algorithm">What is Floyd-Warshall
Algorithm?</h2>
<p>The Floyd-Warshall algorithm is a <strong>dynamic programming
algorithm</strong> used to find the shortest paths between <strong>all
pairs of vertices in a weighted graph</strong>. It can <strong>handle
both positive and negative edge weights</strong>, provided there are no
negative weight cycles.</p>
<h3 id="positive-and-negative-edge-weights">Positive and Negative Edge
Weights</h3>
<ul>
<li><strong>Positive Edge Weights:</strong> Represent positive costs or
distances (e.g., road lengths).</li>
<li><strong>Negative Edge Weights:</strong> Represent scenarios where
moving reduces the total cost (e.g., financial gains).</li>
</ul>
<h3 id="negative-weight-cycles">Negative Weight Cycles</h3>
<ul>
<li><strong>Definition:</strong> A cycle where the sum of the edge
weights is negative.</li>
<li><strong>Issue:</strong> Makes shortest path calculations meaningless
as you can reduce the path cost indefinitely by looping through the
cycle.</li>
</ul>
<h3 id="floyd-warshall-algorithm">Floyd-Warshall Algorithm</h3>
<ul>
<li><strong>Capability:</strong> Handles both positive and negative edge
weights.</li>
<li><strong>Limitation:</strong> <strong>Cannot</strong> compute
shortest paths correctly if there are negative weight cycles.</li>
</ul>
<h3 id="detection">Detection</h3>
<ul>
<li><strong>Method:</strong> After running the algorithm, check if any
diagonal element (<code>dist[i][i]</code>) in the distance matrix is
negative. If so, a negative weight cycle exists.</li>
</ul>
<h2 id="when-to-use-floyd-warshall-algorithm">When to Use Floyd-Warshall
Algorithm</h2>
<p><strong>Use Cases:</strong> 1. <strong>Dense Graphs:</strong> When
the graph is dense, meaning <strong>the number of edges is close to the
square of the number of vertices</strong>. 2. <strong>All-Pairs Shortest
Paths:</strong> When you need to find the <strong>shortest paths between
every pair of vertices</strong>. 3. <strong>Negative Weights:</strong>
When the graph contains <strong>negative edge weights but no negative
weight cycles</strong>.</p>
<h3 id="example-applications">Example Applications:</h3>
<ul>
<li><strong>Network Routing:</strong> Determining the shortest paths for
data packet routing in a network.</li>
<li><strong>Transitive Closure:</strong> Finding the transitive closure
of a graph to determine reachability.</li>
<li><strong>Shortest Path Problems in Graphs with Negative
Weights:</strong> When other algorithms like Dijkstra's are not suitable
due to negative weights.</li>
</ul>
<h2 id="why-floyd-warshall-algorithm">Why Floyd-Warshall Algorithm?</h2>
<h3 id="advantages">Advantages</h3>
<ol type="1">
<li><strong>Handles Negative Weights:</strong> It can handle graphs with
negative edge weights, unlike Dijkstra's algorithm.</li>
<li><strong>All-Pairs Shortest Paths:</strong> It efficiently computes
shortest paths between all pairs of vertices.</li>
<li><strong>Simplicity:</strong> The algorithm is straightforward to
implement with a triple nested loop.</li>
</ol>
<p>But, <strong>Cannot Handle:</strong> Negative weight cycles (they
make shortest path calculations invalid).</p>
<h3 id="drawbacks">Drawbacks</h3>
<ol type="1">
<li><p><strong>Time Complexity:</strong> <span
class="math display">\[O(V^3)\]</span></p>
<blockquote>
<p>which can be prohibitive for very large graphs.</p>
</blockquote></li>
<li><p><strong>Space Complexity:</strong> <span
class="math display">\[O(V^2)\]</span></p>
<blockquote>
<p>requiring significant memory for storing the distance matrix.</p>
</blockquote></li>
</ol>
<h2
id="step-by-step-guide-to-implement-floyd-warshall-algorithm">Step-by-Step
Guide to Implement Floyd-Warshall Algorithm</h2>
<ol type="1">
<li><strong>Understand the Problem:</strong>
<ul>
<li>You need to find the shortest paths between all pairs of vertices in
a weighted directed graph.</li>
<li>The graph is represented as an adjacency matrix.</li>
<li>If there is no direct edge between two vertices, the weight is
<code>Infinity</code>.</li>
</ul></li>
<li><strong>Initialisation Distance Matrix:</strong>
<ul>
<li>Create a 2D array of distance matrix <code>dist</code> as a copy of
the input graph. This will store the shortest distances.</li>
<li>Set the diagonal elements to 0, because the shortest distance from
any vertex to itself is 0.</li>
</ul></li>
<li><strong>Algorithm Execution:</strong>
<ul>
<li>Use three nested loops:
<ul>
<li>Outer loop iterates over each vertex <code>k</code> as an
intermediate vertex.</li>
<li>Middle loop iterates over each vertex <code>i</code> as the
source.</li>
<li>Inner loop iterates over each vertex <code>j</code> as the
destination.</li>
</ul></li>
<li>Update <code>dist[i][j]</code> if a shorter path through
<code>k</code> is found: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class="line">  dist[i][j] = dist[i][k] + dist[k][j];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><strong>Result:</strong>
<ul>
<li>After all iterations, <code>dist[i][j]</code> will contain the
shortest distance from vertex <code>i</code> to vertex
<code>j</code>.</li>
<li>Output the Result: Print the <code>dist</code> matrix, replacing
<code>Infinity</code> with <code>∞</code> for readability.</li>
</ul></li>
</ol>
<h3 id="memorisation-tips">Memorisation Tips</h3>
<ul>
<li><strong>Initialisation:</strong>
<ul>
<li><code>dist[i][j] = graph[i][j]</code> for all pairs
<code>(i, j)</code>.</li>
</ul></li>
<li><strong>Update Rule:</strong>
<ul>
<li><code>dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])</code>.</li>
</ul></li>
<li><strong>Loop Structure:</strong>
<ul>
<li>Three nested loops for <code>k</code>, <code>i</code>, and
<code>j</code>.</li>
</ul></li>
<li><strong>Edge Cases:</strong>
<ul>
<li>Self-loops are always <code>0</code>.</li>
<li>Use <code>Infinity</code> for no direct path.</li>
</ul></li>
</ul>
<h3 id="detailed-example-in-javascript">Detailed Example in
JavaScript</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">floydWarshall</span>(<span class="params">graph</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> dist = [];</span><br><span class="line">  <span class="keyword">const</span> V = graph.<span class="property">length</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Step 1: Initialise the distance matrix</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">  dist[i] = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; V; j++) &#123;</span><br><span class="line">      dist[i][j] = graph[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Step 2: Apply Floyd-Warshall Algorithm</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> k = <span class="number">0</span>; k &lt; V; k++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; V; i++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j &lt; V; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dist[i][k] + dist[k][j] &lt; dist[i][j]) &#123;</span><br><span class="line">          dist[i][j] = dist[i][k] + dist[k][j];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Step 3: Return the shortest distance matrix</span></span><br><span class="line">  <span class="keyword">return</span> dist;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Example graph</span></span><br><span class="line"><span class="keyword">const</span> graph = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">3</span>, <span class="title class_">Infinity</span>, <span class="number">7</span>],</span><br><span class="line">  [<span class="number">8</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="number">5</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = <span class="title function_">floydWarshall</span>(graph);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Format the output for readability</span></span><br><span class="line">result.<span class="title function_">forEach</span>(<span class="function"><span class="params">row</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(row.<span class="title function_">map</span>(<span class="function"><span class="params">value</span> =&gt;</span> (value === <span class="title class_">Infinity</span> ? <span class="string">&quot;∞&quot;</span> : value)).<span class="title function_">join</span>(<span class="string">&quot; &quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Expected output:</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  [0, 3, 5, 6],</span></span><br><span class="line"><span class="comment">  [5, 0, 2, 3],</span></span><br><span class="line"><span class="comment">  [3, 6, 0, 1],</span></span><br><span class="line"><span class="comment">  [2, 5, 7, 0]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*;</span></span><br></pre></td></tr></table></figure>
<h3 id="example-1-basic-graph">Example 1: Basic Graph</h3>
<p>A simple graph with four vertices (A, B, C, D) and both finite and
infinite distances: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph1 = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">3</span>, <span class="title class_">Infinity</span>, <span class="number">7</span>],</span><br><span class="line">  [<span class="number">8</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="number">5</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p>
<h3 id="example-2-graph-with-no-edges">Example 2: Graph with No
Edges</h3>
<p>A graph where no vertices are directly connected except for
self-loops: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph2 = [</span><br><span class="line">  [<span class="number">0</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p>
<h3 id="example-3-complete-graph">Example 3: Complete Graph</h3>
<p>A fully connected graph where every vertex is directly connected to
every other vertex with varying weights: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph3 = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>],</span><br><span class="line">  [<span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">  [<span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">5</span>],</span><br><span class="line">  [<span class="number">6</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p>
<h3
id="example-4-graph-with-negative-weights-no-negative-cycles">Example 4:
Graph with Negative Weights (No Negative Cycles)</h3>
<p>A graph with some edges having negative weights, but no negative
weight cycles: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph4 = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">3</span>, -<span class="number">2</span>, <span class="number">8</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="title class_">Infinity</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="number">4</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p>
<h3 id="example-5-sparse-graph">Example 5: Sparse Graph</h3>
<p>A sparse graph with more infinite distances (disconnected
vertices):</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph5 = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">5</span>, <span class="title class_">Infinity</span>, <span class="number">10</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<h3 id="running-the-algorithm">Running the Algorithm</h3>
<p>You can use the <code>floydWarshall</code> function provided in the
previous example to compute the shortest paths for each of these graphs.
Here's how you can do it for one of the examples: <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> graph1 = [</span><br><span class="line">  [<span class="number">0</span>, <span class="number">3</span>, <span class="title class_">Infinity</span>, <span class="number">7</span>],</span><br><span class="line">  [<span class="number">8</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="title class_">Infinity</span>],</span><br><span class="line">  [<span class="number">5</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="title class_">Infinity</span>, <span class="title class_">Infinity</span>, <span class="number">0</span>]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="title function_">floydWarshall</span>(graph1);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Expected output:</span></span><br><span class="line"><span class="comment">[</span></span><br><span class="line"><span class="comment">  [0, 3, 5, 6],</span></span><br><span class="line"><span class="comment">  [5, 0, 2, 3],</span></span><br><span class="line"><span class="comment">  [3, 6, 0, 1],</span></span><br><span class="line"><span class="comment">  [2, 5, 7, 0]</span></span><br><span class="line"><span class="comment">]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></p>
<p>You can similarly run the function for the other graphs by replacing
<code>graph1</code> with <code>graph2</code>, <code>graph3</code>,
<code>graph4</code>, or <code>graph5</code>. This will give you the
shortest path distances between all pairs of vertices for each input
graph.</p>
<hr />
<h2
id="side-knowledge-floyd-warshal-algorithm-vs-dijkstras-algorithm">Side
Knowledge: Floyd-Warshal Algorithm vs Dijkstra's Algorithm</h2>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 48%" />
<col style="width: 43%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Aspect</strong></th>
<th><strong>Floyd-Warshall Algorithm</strong></th>
<th><strong>Dijkstra's Algorithm</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Time Complexity</strong></td>
<td><span class="math display">\[O(V^3)\]</span></td>
<td><span class="math display">\[O((V + E) \log V)\]</span> With a
priority queue</td>
</tr>
<tr class="even">
<td><strong>Space Complexity</strong></td>
<td><span class="math display">\[O(V^2)\]</span></td>
<td><span class="math display">\[O(V)\]</span> For distances and the
priority queue</td>
</tr>
<tr class="odd">
<td><strong>Purpose</strong></td>
<td>All-pairs shortest paths</td>
<td>Single-source shortest path</td>
</tr>
<tr class="even">
<td><strong>Graph Type</strong></td>
<td>Weighted graphs with positive and negative weights (no cycles)</td>
<td>Weighted graphs with non-negative weights</td>
</tr>
<tr class="odd">
<td><strong>Algorithm Steps</strong></td>
<td>1. Initialize distance matrix<br>2. Set <code>dist[i][i]</code> to
0<br>3. Update distances using:
<code>dist[i][j] = min(dist[i][j], dist[i][k] + dist[k][j])</code><br>4.
Result in <code>dist[i][j]</code> for shortest paths</td>
<td>1. Initialize distances<br>2. Use priority queue to select vertex
with smallest distance<br>3. Update distances for neighbors<br>4. Repeat
until all vertices are processed</td>
</tr>
<tr class="even">
<td><strong>Use Cases</strong></td>
<td>Dense graphs, network analysis, finding transitive closure</td>
<td>Sparse graphs, map routing, network routing</td>
</tr>
<tr class="odd">
<td><strong>Handles Negative Weights</strong></td>
<td>Yes, but no negative cycles</td>
<td>No</td>
</tr>
</tbody>
</table>
<h3 id="side-note-single-source-shortest-path">Side Note: Single-Source
Shortest Path</h3>
<p><strong>Single-source shortest path</strong> refers to finding the
shortest paths from a single starting vertex (source) to all other
vertices in the graph. The term "single-source" distinguishes this
problem from the "all-pairs shortest path" problem, which seeks to find
the shortest paths between every pair of vertices.</p>

    </div>

    
    
    
      
  <div class="popular-posts-header">Related Posts</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/euclidean-algorithm-finding-the-greatest-common-divisor-gcd/" rel="bookmark">Euclidean Algorithm: Finding the Greatest Common Divisor (GCD)</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/floyd-s-tortoise-and-hare-algorithm-efficient-cycle-detection/" rel="bookmark">Floyd's Tortoise and Hare Algorithm: Efficient Cycle Detection</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/boyer-moore-voting-algorithm-finding-the-majority-element/" rel="bookmark">Boyer-Moore Voting Algorithm: Finding the Majority Element</a></div>
    </li>
  </ul>
<div class="post-widgets">
    <div class="likely">
        <div class="twitter">Tweet</div>
        <div class="facebook">Share</div>
        <div class="linkedin">Link</div>
        <div class="gplus">Plus</div>
        <div class="vkontakte">Share</div>
        <div class="odnoklassniki">Class</div>
        <div class="telegram">Send</div>
        <div class="whatsapp">Send</div>
        <div class="pinterest">Pin</div>
    </div>
  </div>
  <script src="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.js"></script>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/algorithm/" rel="tag"># algorithm</a>
              <a href="/tags/dynamic-programming/" rel="tag"># dynamic programming</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/floyd-s-tortoise-and-hare-algorithm-efficient-cycle-detection/" rel="prev" title="Floyd's Tortoise and Hare Algorithm: Efficient Cycle Detection">
      <i class="fa fa-chevron-left"></i> Floyd's Tortoise and Hare Algorithm: Efficient Cycle Detection
    </a></div>
      <div class="post-nav-item">
    <a href="/dijkstra-s-algorithm-efficient-shortest-path-finding-in-graphs/" rel="next" title="Dijkstra's Algorithm: Efficient Shortest Path Finding in Graphs">
      Dijkstra's Algorithm: Efficient Shortest Path Finding in Graphs <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#what-is-floyd-warshall-algorithm"><span class="nav-number">1.</span> <span class="nav-text">What is Floyd-Warshall
Algorithm?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#positive-and-negative-edge-weights"><span class="nav-number">1.1.</span> <span class="nav-text">Positive and Negative Edge
Weights</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#negative-weight-cycles"><span class="nav-number">1.2.</span> <span class="nav-text">Negative Weight Cycles</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#floyd-warshall-algorithm"><span class="nav-number">1.3.</span> <span class="nav-text">Floyd-Warshall Algorithm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#detection"><span class="nav-number">1.4.</span> <span class="nav-text">Detection</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#when-to-use-floyd-warshall-algorithm"><span class="nav-number">2.</span> <span class="nav-text">When to Use Floyd-Warshall
Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#example-applications"><span class="nav-number">2.1.</span> <span class="nav-text">Example Applications:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#why-floyd-warshall-algorithm"><span class="nav-number">3.</span> <span class="nav-text">Why Floyd-Warshall Algorithm?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#advantages"><span class="nav-number">3.1.</span> <span class="nav-text">Advantages</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#drawbacks"><span class="nav-number">3.2.</span> <span class="nav-text">Drawbacks</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#step-by-step-guide-to-implement-floyd-warshall-algorithm"><span class="nav-number">4.</span> <span class="nav-text">Step-by-Step
Guide to Implement Floyd-Warshall Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#memorisation-tips"><span class="nav-number">4.1.</span> <span class="nav-text">Memorisation Tips</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#detailed-example-in-javascript"><span class="nav-number">4.2.</span> <span class="nav-text">Detailed Example in
JavaScript</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#example-1-basic-graph"><span class="nav-number">4.3.</span> <span class="nav-text">Example 1: Basic Graph</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#example-2-graph-with-no-edges"><span class="nav-number">4.4.</span> <span class="nav-text">Example 2: Graph with No
Edges</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#example-3-complete-graph"><span class="nav-number">4.5.</span> <span class="nav-text">Example 3: Complete Graph</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#example-4-graph-with-negative-weights-no-negative-cycles"><span class="nav-number">4.6.</span> <span class="nav-text">Example 4:
Graph with Negative Weights (No Negative Cycles)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#example-5-sparse-graph"><span class="nav-number">4.7.</span> <span class="nav-text">Example 5: Sparse Graph</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#running-the-algorithm"><span class="nav-number">4.8.</span> <span class="nav-text">Running the Algorithm</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#side-knowledge-floyd-warshal-algorithm-vs-dijkstras-algorithm"><span class="nav-number">5.</span> <span class="nav-text">Side
Knowledge: Floyd-Warshal Algorithm vs Dijkstra&#39;s Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#side-note-single-source-shortest-path"><span class="nav-number">5.1.</span> <span class="nav-text">Side Note: Single-Source
Shortest Path</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jing Hui PANG | 彭競辉 | ENKR</p>
  <div class="site-description" itemprop="description">Words for my future self—a space for insights and creativity. Along the way, I’ll be journaling my journey, diving into programming tips, beatboxing stories and sharing insights on fitness, music, and more to inspire anyone chasing their own path.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
    <div class="site-state-item site-state-posts">
        <a href="/archives">
          <span class="site-state-item-count">99</span>
          <span class="site-state-item-name">Posts</span>
        </a>
    </div>

    <!--
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">58</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">130</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
    -->


    <!--
NEW: Readers & Total Views
-->

    <div class="site-state-item site-state-readers">
      <span id="unique-reader-count" class="site-state-item-count">loading ...</span>
      <span class="site-state-item-name">Readers</span>
    </div>

    <div class="site-state-item site-state-total-views">
      <span id="total-view-count" class="site-state-item-count">loading ...</span>
      <span class="site-state-item-name">Total Views</span>
    </div>

  </nav>
</div>



<div class="globe-view-counter-container">
  <script type="text/javascript"
    src="//rf.revolvermaps.com/0/0/8.js?i=5uxj8a6ge7p&amp;m=1&amp;c=ff0000&amp;cr1=fff600&amp;f=ubuntu&amp;l=33"
    async="async"></script>
</div>



<script type="module">
  console.group(`[DEBUG] site-overview.swig`);

  console.debug(`[DEBUG] firestore visitor sum ...`);

  // Import Firebase modules
  import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
  import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";

  // Firebase configuration
  const _0x5ea0f9 = _0x103b; function _0x103b(_0x53ae50, _0x59847d) { const _0x2843ac = _0x1ad7(); _0x103b = function (_0x55d786, _0x3cee64) { _0x55d786 = _0x55d786 - (-0xcfb + 0x1f9f + -0x1124); let _0x59a379 = _0x2843ac[_0x55d786]; return _0x59a379; }; return _0x103b(_0x53ae50, _0x59847d); } function _0x1ad7() { const _0x1f01af = ['G-TJPENBTD', 'AIzaSyBxex', '17063YPgNxh', 'VzGzOqDUGF', '1:71411607', '216YlyPzv', 'hexo-blog-', '7141160759', '4c5895d438', '16110beXadU', 'qAetlFUSo', '548402cjqBQm', '9ccea', 'zHVT_-oYxk', 'enkr1.com', '10aKAiit', '725816aYbUzX', '38661mJjSzZ', 'fb244020c3', 'pot.com', '5930586lHPClx', '593:web:d0', '52OsOUFf', '9ccea.apps', '1053695BAfudF']; _0x1ad7 = function () { return _0x1f01af; }; return _0x1ad7(); } (function (_0x5f4332, _0x76084c) { const _0x2e4582 = _0x103b; const _0x2c9a86 = _0x5f4332(); while (!![]) { try { const _0x40bc56 = parseInt(_0x2e4582(0x184)) / (-0x92c + -0x2f * -0x2 + -0xcd * -0xb) + -parseInt(_0x2e4582(0x18d)) / (-0xf68 + -0x11 * -0x1bb + -0xe01) + parseInt(_0x2e4582(0x18b)) / (0x546 + -0x4 * -0x19b + -0xbaf) * (parseInt(_0x2e4582(0x198)) / (-0x91 * 0x16 + -0x215b * -0x1 + -0x1 * 0x14e1)) + -parseInt(_0x2e4582(0x181)) / (0x181e + -0x295 * 0xd + 0x978) + parseInt(_0x2e4582(0x187)) / (-0x2 * 0x10ad + -0x14a9 + 0x3609) * (-parseInt(_0x2e4582(0x193)) / (0x5 * 0x4e8 + -0xc8d + 0x5fa * -0x2)) + parseInt(_0x2e4582(0x192)) / (-0x1 * 0x621 + 0x1f * 0x95 + -0xbe2) + parseInt(_0x2e4582(0x196)) / (-0x1494 + -0x3 * 0x7ae + 0x2ba7) * (parseInt(_0x2e4582(0x191)) / (-0x1 * 0xec7 + -0x5 * -0x2cf + 0xc6)); if (_0x40bc56 === _0x76084c) { break; } else { _0x2c9a86['push'](_0x2c9a86['shift']()); } } catch (_0x4baedd) { _0x2c9a86['push'](_0x2c9a86['shift']()); } } }(_0x1ad7, -0x1 * 0x1a731 + -0x443d4 + -0x1 * -0x83fd7)); const firebaseConfig = { 'apiKey': _0x5ea0f9(0x183) + _0x5ea0f9(0x185) + _0x5ea0f9(0x18f) + _0x5ea0f9(0x18c), 'authDomain': _0x5ea0f9(0x190), 'projectId': _0x5ea0f9(0x188) + _0x5ea0f9(0x18e), 'storageBucket': _0x5ea0f9(0x188) + _0x5ea0f9(0x180) + _0x5ea0f9(0x195), 'messagingSenderId': _0x5ea0f9(0x189) + '3', 'appId': _0x5ea0f9(0x186) + _0x5ea0f9(0x197) + _0x5ea0f9(0x194) + _0x5ea0f9(0x18a), 'measurementId': _0x5ea0f9(0x182) + 'NS' };
  // Check if Firebase has already been initialized
  const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();

  // Initialize Firestore
  const db = getFirestore(app);

  // Function to fetch the visitor count
  async function fetchVisitorCount() {

    try {
      const articlesCollection = collection(db, 'articles');
      const snapshot = await getDocs(articlesCollection);

      let totalVisitors = 0;
      console.group(`[DEBUG] totalVisitors - bef`, totalVisitors)
      snapshot.forEach(doc => {
        let visitorByDoc = doc.data().count || 0;
        totalVisitors += visitorByDoc;
        // console.debug(`[DEBUG] each doc visitors: ${visitorByDoc}`)
      });
      console.groupEnd(`[DEBUG] totalVisitors - aft`, totalVisitors)

      // Inject visitor count into the HTML element
      document.getElementById('total-view-count').innerText = totalVisitors;
    } catch (error) {
      console.error("Error fetching visitor count: ", error);
    }
  }

  // Function to fetch the unique visitor count
  async function fetchUniqueReaderCount() {
    try {
      // Reference to the 'unique_visitors' collection (assuming you're storing IPs in this collection)
      const uniqueVisitorsCollection = collection(db, 'unique_visitors');
      const snapshot = await getDocs(uniqueVisitorsCollection);

      // The number of documents corresponds to the unique readers (IP addresses)
      const uniqueReaderCount = snapshot.size;

      console.debug(`[DEBUG] Unique readers count:`, uniqueReaderCount);

      // Inject the unique reader count into the HTML element
      document.getElementById('unique-reader-count').innerText = uniqueReaderCount;
    } catch (error) {
      console.error("Error fetching unique reader count: ", error);
    }
  }

  // Check if the current environment is localhost
  if (window.location.hostname === "localhost") {
    console.debug(`[DEBUG] Skipping Firestore requests in local development.`);
  } else {
    // Fetch unique reader count when the page loads
    await fetchUniqueReaderCount();
    // Fetch visitor count when the page loads
    await fetchVisitorCount();
  }

  console.groupEnd(`[DEBUG] site-overview.swig`);

</script>

      </div>

    </div>


  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2023 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class=""></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jing Hui PANG | 彭競辉 | ENKR</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Symbols count total">83k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Reading time total">5:01</span>
</div>

        




  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/6.3.3/firebase-firestore.js"></script>

  <script type="module">
    import { initializeApp, getApps, getApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
    import { getFirestore, doc, collection, getDoc, setDoc, FieldValue } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore.js";

    console.group(`[DEBUG] firestore.swig`);

    // Firebase configuration
    const _0x5ea0f9=_0x103b;function _0x103b(_0x53ae50,_0x59847d){const _0x2843ac=_0x1ad7();_0x103b=function(_0x55d786,_0x3cee64){_0x55d786=_0x55d786-(-0xcfb+0x1f9f+-0x1124);let _0x59a379=_0x2843ac[_0x55d786];return _0x59a379;};return _0x103b(_0x53ae50,_0x59847d);}function _0x1ad7(){const _0x1f01af=['G-TJPENBTD','AIzaSyBxex','17063YPgNxh','VzGzOqDUGF','1:71411607','216YlyPzv','hexo-blog-','7141160759','4c5895d438','16110beXadU','qAetlFUSo','548402cjqBQm','9ccea','zHVT_-oYxk','enkr1.com','10aKAiit','725816aYbUzX','38661mJjSzZ','fb244020c3','pot.com','5930586lHPClx','593:web:d0','52OsOUFf','9ccea.apps','1053695BAfudF'];_0x1ad7=function(){return _0x1f01af;};return _0x1ad7();}(function(_0x5f4332,_0x76084c){const _0x2e4582=_0x103b;const _0x2c9a86=_0x5f4332();while(!![]){try{const _0x40bc56=parseInt(_0x2e4582(0x184))/(-0x92c+-0x2f*-0x2+-0xcd*-0xb)+-parseInt(_0x2e4582(0x18d))/(-0xf68+-0x11*-0x1bb+-0xe01)+parseInt(_0x2e4582(0x18b))/(0x546+-0x4*-0x19b+-0xbaf)*(parseInt(_0x2e4582(0x198))/(-0x91*0x16+-0x215b*-0x1+-0x1*0x14e1))+-parseInt(_0x2e4582(0x181))/(0x181e+-0x295*0xd+0x978)+parseInt(_0x2e4582(0x187))/(-0x2*0x10ad+-0x14a9+0x3609)*(-parseInt(_0x2e4582(0x193))/(0x5*0x4e8+-0xc8d+0x5fa*-0x2))+parseInt(_0x2e4582(0x192))/(-0x1*0x621+0x1f*0x95+-0xbe2)+parseInt(_0x2e4582(0x196))/(-0x1494+-0x3*0x7ae+0x2ba7)*(parseInt(_0x2e4582(0x191))/(-0x1*0xec7+-0x5*-0x2cf+0xc6));if(_0x40bc56===_0x76084c){break;}else{_0x2c9a86['push'](_0x2c9a86['shift']());}}catch(_0x4baedd){_0x2c9a86['push'](_0x2c9a86['shift']());}}}(_0x1ad7,-0x1*0x1a731+-0x443d4+-0x1*-0x83fd7));const firebaseConfig={'apiKey':_0x5ea0f9(0x183)+_0x5ea0f9(0x185)+_0x5ea0f9(0x18f)+_0x5ea0f9(0x18c),'authDomain':_0x5ea0f9(0x190),'projectId':_0x5ea0f9(0x188)+_0x5ea0f9(0x18e),'storageBucket':_0x5ea0f9(0x188)+_0x5ea0f9(0x180)+_0x5ea0f9(0x195),'messagingSenderId':_0x5ea0f9(0x189)+'3','appId':_0x5ea0f9(0x186)+_0x5ea0f9(0x197)+_0x5ea0f9(0x194)+_0x5ea0f9(0x18a),'measurementId':_0x5ea0f9(0x182)+'NS'};
    const app = !getApps().length ? initializeApp(firebaseConfig) : getApp();
    const db = getFirestore(app);

    let isRequestInProgress = false;

    async function getCount(docRef, increaseCount, title) {
      try {
        isRequestInProgress = true;
        const d = await getDoc(docRef);

        let count = 0;
        if (!d.exists()) {
          if (increaseCount) {
            await setDoc(docRef, { count: 1 });
            count = 1;
            localStorage.setItem(title, true); // Mark as visited
          }
        } else {
          count = d.data().count;
          if (increaseCount) {
            await setDoc(docRef, { count: count + 1 });
            count++;
            localStorage.setItem(title, true); // Mark as visited
          }
        }

        isRequestInProgress = false;
        return count;
      } catch (err) {
        console.error('Error getting document:', err);
        isRequestInProgress = false;
      }
    }

    async function getVisitorIP() {
      console.debug(`[DEBUG] Fetching visitor IP...`);

      try {
        const response = await fetch('https://ipwho.is/', { cache: "no-store" });

        console.debug(`[DEBUG] IP API response status: ${response.status}`);

        if (!response.ok) {
          throw new Error(`API responded with status: ${response.status}`);
        }

        const data = await response.json();

        console.debug(`[DEBUG] Raw API response:`, data);

        if (!data.success) {
          throw new Error(`IP API failed: ${data.message || "Unknown error"}`);
        }

        console.debug(`[DEBUG] Visitor IP: ${data.ip}, Location: ${data.city}, ${data.country}`);

        return {
          ip: data.ip,
          city: data.city,
          country: data.country,
          region: data.region,
          isp: data.connection?.isp || "Unknown ISP",
          userAgent: navigator.userAgent
        };
      } catch (error) {
        console.error(`[ERROR] Failed to fetch visitor IP:`, error);

        // Fallback to `api64.ipify.org` in case `ipwho.is` fails
        try {
          console.warn(`[WARN] Attempting fallback to ipify.org...`);
          const fallbackResponse = await fetch('https://api64.ipify.org?format=json');

          if (!fallbackResponse.ok) {
            throw new Error(`Fallback API responded with status: ${fallbackResponse.status}`);
          }

          const fallbackData = await fallbackResponse.json();
          console.warn(`[WARN] Using fallback IP API: ${fallbackData.ip}`);

          return {
            ip: fallbackData.ip,
            city: "Unknown",
            country: "Unknown",
            region: "Unknown",
            isp: "Unknown ISP",
            userAgent: navigator.userAgent
          };
        } catch (fallbackError) {
          console.error(`[ERROR] Failed to fetch from fallback IP API:`, fallbackError);
          return null; // Return `null` to signal failure
        }
      }
    }


    async function hashIP(ip) {
      const msgUint8 = new TextEncoder().encode(ip); // Convert IP to UTF-8
      const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8); // Hash it
      const hashArray = Array.from(new Uint8Array(hashBuffer)); // Convert to byte array
      return hashArray.map(b => b.toString(16).padStart(2, '0')).join(''); // Convert to hex
    }

    async function trackUniqueVisitor() {
      console.debug(`[DEBUG] Tracking unique visitor`);

      const visitorData = await getVisitorIP(); // Fetch IP and geolocation
      if (!visitorData) {
        console.warn(`[DEBUG] Skipping visitor tracking as no IP data is available.`);
        return; // Exit if no IP data
      }

      const hashedIp = await hashIP(visitorData.ip); // Hash the IP for privacy
      console.debug(`[DEBUG] Hashed IP:`, hashedIp);

      const ipCollection = collection(db, 'unique_visitors'); // Firestore collection
      const ipDoc = doc(ipCollection, hashedIp);
      const docSnapshot = await getDoc(ipDoc);

      if (!docSnapshot.exists()) {
        console.debug(`[DEBUG] New visitor detected`);
        await setDoc(ipDoc, {
          ip: visitorData.ip,
          timestamp: new Date(),
          geolocation: `${visitorData.city}, ${visitorData.country}`,
          userAgent: navigator.userAgent
        });

        // Increment the total visitor count
        const totalIpDoc = doc(db, 'visitor_stats', 'total_ip_visitors');
        await setDoc(totalIpDoc, { count: FieldValue.increment(1) }, { merge: true });

        console.debug(`[DEBUG] Visitor data recorded: IP ${visitorData.ip}`);
      } else {
        console.debug(`[DEBUG] Returning visitor: IP ${visitorData.ip} already recorded.`);
      }
    }
    const appendCountTo = (el) => {
      return count => {
        el.innerText = count;
      }
    }

    if (window.location.hostname === "localhost") {
      console.debug(`[DEBUG] Skipping Firestore requests in local development.`);

    } else {

      trackUniqueVisitor();

      if (CONFIG.page.isPost) {
        console.debug(`[DEBUG] isPost.`);
        const title = document.querySelector('.post-title').innerText.trim();
        const docRef = doc(db, 'articles', title);
        let increaseCount = CONFIG.hostname === location.hostname;

        // Check if the user has already visited the post (localStorage)
        if (localStorage.getItem(title)) {
          console.debug(`[DEBUG] visited -> ${title}`);
          increaseCount = false;
        }

        // Fetch count and increase only if needed, then update localStorage
        getCount(docRef, increaseCount, title).then(
          appendCountTo(document.querySelector('.firestore-visitors-count'))
        );
      } else if (CONFIG.page.isHome) {
        // On the homepage, get counts for all articles
        const promises = [...document.querySelectorAll('.post-title')].map(element => {
          const title = element.innerText.trim();
          const docRef = doc(db, 'articles', title);
          return getCount(docRef, false, title);  // No need to increase count on home page
        });

        // Update visitor counts on homepage
        Promise.all(promises).then(counts => {
          const metas = document.querySelectorAll('.firestore-visitors-count');
          counts.forEach((val, idx) => appendCountTo(metas[idx])(val));
        });
      }

    }
    console.groupEnd(`[DEBUG] firestore.swig`);
  </script>




      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>





  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://https-enkr1-github-io-blog.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://blog.enkr1.com/floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/";
    this.page.identifier = "floyd-warshall-algorithm-comprehensive-guide-to-all-pairs-shortest-paths/";
    this.page.title = "Floyd-Warshall Algorithm: Comprehensive Guide to All-Pairs Shortest Paths";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://https-enkr1-github-io-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
